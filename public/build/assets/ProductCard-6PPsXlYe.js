import{j as e}from"./DataGrid-BKdWb2kD.js";import{r as p}from"./index-TykbAVkI.js";import{m as M}from"./main-jzs2GwAM.js";import{T as k}from"./arrayJoin-F1p6nII-.js";import"./TippyButton-IdRJAjYN.js";const C=({title:t,children:d,className:c="flex flex-row gap-4 w-full flex-wrap",items:x=[],itemId:r="id",itemName:u="name",onClick:i=()=>{}})=>{const l=t.toLowerCase().split(" ").filter(Boolean).join("-");return e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h2",{className:"font-semibold",children:t}),e.jsx("div",{className:c,children:d||x.map(n=>e.jsxs("label",{htmlFor:`item-${l}-${n[r]}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-${l}-${n[r]}`,name:l,type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:n[r],onClick:b=>i(`attribute-${n.attribute_id}`,b.target.value,b.target.checked)}),n[u]]},`item-${l}-${n[r]}`))})]})},O=({priceOrder:t,setPriceOrder:d,minPrice:c,setFilter:x,filter:r,maxPrice:u,categories:i=[],tags:l=[],brands:n=[],sizes:b=[],colors:R=[],attribute_values:F,tag_id:$,selected_category:A})=>{p.useRef();const[v,P]=p.useState({}),_=s=>{P(a=>({...a,[s]:!a[s]}))},L=s=>{const a=structuredClone(r);a.minPrice=Number(s.target.value)||0,x(a)},S=s=>{const a=structuredClone(r);a.maxPrice=Number(s.target.value)||0,x(a)},m=(s,a,o)=>{let h=structuredClone(r);h[s]||(h[s]=[]),o?h[s].push(a):h[s]=h[s].filter(g=>g!=a),x(h)},[f,y]=p.useState(!1),j=p.useRef({}),B=p.useRef(null),E=()=>{y(!f)},N=s=>{y(!f);let a=s.target.id;j.current[a].querySelector("span").textContent,d(o=>s.target.value)},z=()=>{d(null),x({}),window.history.pushState({},"","/catalogo"),M.GET.search=null};let w="Ordenar por";return t=="price_high"?w="Precio más alto":t=="price_low"&&(w="Precio más bajo"),e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"w-full h-12 text-[17px] bg-[#006BF6] text-white text-center font-semibold rounded-full",type:"reset",onClick:z,children:"Limpiar filtros"}),e.jsxs("div",{className:"dropdown w-full",ref:B,children:[e.jsx("div",{className:"input-box focus:outline-none font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:E,children:t==null?"Ordenar por":w}),f&&e.jsxs("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms]",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"},children:[e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id11",className:"radio",value:"price_high",onChange:N}),e.jsx("label",{ref:s=>j.current.id11=s,htmlFor:"id11",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más alto"})})]}),e.jsxs("div",{className:"w-full",children:[e.jsx("input",{type:"radio",name:"drop1",id:"id12",className:"radio",value:"price_low",onChange:N}),e.jsx("label",{ref:s=>j.current.id12=s,htmlFor:"id12",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar",children:e.jsx("span",{className:"name inline-block w-full",children:"Precio más bajo"})})]})]})]}),e.jsxs(C,{title:"Precio",className:"flex flex-row gap-4 w-full",children:[e.jsx("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Desde",min:c,max:u,step:.01,onChange:L}),e.jsx("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Hasta",min:c,max:u,step:.01,onChange:S})]}),i.length>0&&e.jsxs("div",{className:"w-full ",children:[e.jsx("h2",{className:"font-semibold mb-4",children:"Categorias"}),i.map(s=>{var a;return s.subcategories.length>0&&e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("button",{type:"button",className:"w-full flex justify-between items-center py-2 px-4 text-left text-[#006BF6] bg-gray-100 hover:bg-gray-200 focus:outline-none",onClick:()=>_(s.id),children:[e.jsx("span",{children:s.name}),e.jsx("svg",{className:`w-5 h-5 transform transition-transform ${v[s.id]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})}),v[s.id]&&e.jsxs("div",{className:"p-4 border border-t-0 border-gray-200 space-y-4",children:[e.jsxs("label",{htmlFor:`category-${s.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-category-${s.id}`,name:"category",type:"checkbox",className:"bg-blue-500 rounded-sm  border-none",value:s.id,onChange:({target:o})=>m("category_id",o.value,o.checked),checked:(a=r==null?void 0:r.category_id)==null?void 0:a.includes(String(s.id))}),"Todos"]},"category"+s.id),s.subcategories.map(o=>{console.log(r);const h=Array.isArray(r==null?void 0:r.subcategory_id)&&r.subcategory_id.includes(String(o.id));return e.jsx(e.Fragment,{children:e.jsxs("label",{htmlFor:`item-category-${o.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-category-${o.id}`,name:"category",type:"checkbox",className:"bg-blue-500 rounded-sm  border-none",value:o.id,onClick:g=>m("subcategory_id",g.target.value,g.target.checked),defaultChecked:h}),o.name]},o.id)})})]})]},s.id)})]}),l.length>0&&e.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[e.jsx("h2",{className:"font-semibold",children:"Etiquetas"}),e.jsx("div",{className:"flex flex-row gap-4 w-full flex-wrap",children:l.map(s=>{const a=s.id===Number($);return e.jsxs("label",{htmlFor:`item-tag-${s.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer",children:[e.jsx("input",{id:`item-tag-${s.id}`,name:"tag",type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:s.id,onClick:o=>m("txp.tag_id",o.target.value,o.target.checked),defaultChecked:a}),s.name]},`item-tag-${s.id}`)})})]}),F.map((s,a)=>e.jsx(C,{title:s[0].attribute.titulo,items:s,itemName:"valor",onClick:m},`attribute-${a}`))]})},H=({current:t,setCurrent:d,pages:c})=>{const x=new Array(c||1);x.fill(null);const r=()=>{d(i=>i<=1?1:--i)},u=()=>{d(i=>i>=c?c:++i)};return e.jsx(e.Fragment,{children:e.jsx("nav",{"aria-label":"Page navigation example w-full",children:e.jsxs("ul",{className:"flex flex-wrap items-center gap-1 -space-x-px text-base justify-center",children:[e.jsx("li",{children:e.jsxs("button",{className:"cursor-pointer disabled:[cursor:not-allowed] disabled:bg-transparent flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 disabled:hover:text-gray-500 hover:bg-white rounded-full bg-transparent hover:text-gray-700",onClick:r,type:"button",disabled:t<=1,children:[e.jsx("span",{className:"sr-only",children:"Previous"}),e.jsx("svg",{className:"w-3 h-3 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 1 1 5l4 4"})})]})}),x.map((i,l)=>{const n=l+1;return n==t-4||n==t+4?e.jsx("li",{children:e.jsx("button",{"aria-current":"page",className:"z-10 cursor-default flex items-center justify-center px-4 h-10 w-10 leading-tight rounded-full bg-transparent text-gray-500",type:"button",children:"···"})},`item-${l}`):e.jsx("li",{className:n>t-4&&n<t+4?"block":"hidden",children:e.jsx("button",{"aria-current":"page",className:`cursor-pointer disabled:cursor-not-allowed z-10 bg-transparent text-gray-500 hover:text-gray-700 flex items-center justify-center px-4 h-10 w-10 leading-tight  hover:bg-white rounded-full ${t==n&&"!bg-[#006BF6] !text-white !hover:bg-[#006bf6]"}`,onClick:()=>d(n),type:"button",disabled:t==n,children:n})},`item-${l}`)}),e.jsx("li",{children:e.jsxs("button",{className:"cursor-pointer disabled:[cursor:not-allowed] disabled:bg-transparent flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 disabled:hover:text-gray-500 hover:bg-white rounded-full bg-transparent hover:text-gray-700",onClick:u,type:"button",disabled:t>=c,children:[e.jsx("span",{className:"sr-only",children:"Next"}),e.jsx("svg",{className:"w-3 h-3 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})})]})})]})})})},G=({item:t,width:d,bgcolor:c,is_reseller:x})=>{var i;const[r,u]=p.useState(!1);return t.category,e.jsxs("div",{onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),className:`flex flex-col relative w-full md:${d} ${c}`,"data-aos":"zoom-in-up",children:[e.jsxs("div",{className:`${c} product_container basis-4/5 flex flex-col justify-center relative border`,children:[e.jsxs("div",{className:"absolute top-2 left-2 w-max",children:[(i=t.tags)==null?void 0:i.map(l=>e.jsx("div",{className:"px-4 mb-1",children:e.jsx("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:l.color},children:l.name})},l.id)),t.descuento>0&&e.jsx("div",{className:"px-4 mb-1",children:e.jsxs("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:"#10c469"},children:["-",Math.round(100-t.descuento*100/t.precio),"%"]})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative flex justify-center items-center h-max",children:[e.jsx("img",{style:{opacity:!t.imagen_ambiente||!r?"1":"0",scale:!t.imagen_ambiente||!r?"1.05":"1",backgroundColor:"#eeeeee"},src:t.imagen?`/${t.imagen}`:"/images/img/noimagen.jpg",alt:t.name,onError:l=>l.target.src="/images/img/noimagen.jpg",className:"transition ease-out duration-300 transform w-full aspect-square object-cover inset-0"}),t.imagen_ambiente&&e.jsx("img",{style:{opacity:r?"1":"0",scale:r?"1.05":"1"},src:`/${t.imagen_ambiente}`,alt:t.name,onError:l=>l.target.src="/images/img/noimagen.jpg",className:"transition ease-out duration-300 transform w-full aspect-square object-cover absolute inset-0"})]}),e.jsx("div",{className:"addProduct text-center flex justify-center h-0",children:e.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[e.jsx("a",{href:`/producto/${t.id}`,className:"font-semibold text-[16px] bg-[#006BF6] py-2 px-4 text-center text-white rounded-3xl h-10",children:"Ver producto"}),e.jsx(k,{content:"Agregar al Carrito",children:e.jsx("button",{href:`/producto/${t.id}`,type:"button",id:"btnAgregarCarrito","data-id":`${t.id}`,className:"flex items-center font-semibold text-[13px] bg-[#006BF6] hover:bg-blue-400 py-1 px-4 text-center text-white rounded-3xl h-10",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",height:"22",fill:"#FFFFFF",children:e.jsx("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"})})})})]})})]})]}),e.jsxs("a",{href:`/producto/${t.id}`,className:"p-2",children:[e.jsx(k,{content:t.producto,children:e.jsx("h2",{className:"block text-[17px] text-center overflow-hidden font-bold",style:{display:"-webkit-box",WebkitLineClamp:2,textOverflow:"ellipsis",WebkitBoxOrient:"vertical",height:"51px"},children:t.producto})}),x?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex content-between flex-row gap-4 items-center justify-center",children:[e.jsxs("span",{className:"text-[#15294C] opacity-60 text-[16.45px]  line-through",children:["S/. ",t.descuento>0?t.descuento:t.precio]}),t.descuento>0&&e.jsxs("span",{className:"text-sm text-[#15294C] opacity-60 line-through",children:["S/. ",t.precio]})]}),e.jsxs("div",{className:"flex content-between flex-row gap-4 items-center justify-center",children:["Reseller ",e.jsxs("span",{className:"text-[#006BF6] text-[16.45px] font-bold",children:["S/. ",t.precio_reseller]})]})]}):e.jsxs("div",{className:"w-full flex content-between flex-row gap-4 items-center justify-center text-center",children:[e.jsx("span",{className:"text-[#006BF6] text-[16.45px] font-bold",children:t.descuento>0?e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-sm font-light",children:"Precio Promo"}),e.jsxs("span",{className:"",children:["S/. ",t.descuento]})]}):e.jsxs("div",{className:"flex flex-col justify-center items-center",children:[e.jsx("span",{className:"text-sm font-light",children:"Precio Regular"}),e.jsxs("span",{className:"font-bold",children:["S/. ",t.precio]})]})}),t.descuento>0&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-sm text-[#15294C] font-light",children:"Precio Regular"}),e.jsxs("span",{className:" text-[#15294C] opacity-80 line-through font-bold",children:[" S/. ",t.precio]})]})})]})]})]})};export{O as F,G as P,H as a};

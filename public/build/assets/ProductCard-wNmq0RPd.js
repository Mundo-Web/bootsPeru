import{R as e,r as x}from"./DataGrid-TykbAVkI.js";import{T as v}from"./arrayJoin-QZyv0n10.js";import"./TippyButton-Pa5nGqER.js";const k=({title:t,children:s,className:c="flex flex-row gap-4 w-full flex-wrap",items:i=[],itemId:n="id",itemName:m="name",onClick:o=()=>{}})=>{const l=t.toLowerCase().split(" ").filter(Boolean).join("-");return e.createElement("div",{className:"flex flex-col gap-4 w-full"},e.createElement("h2",{className:"font-semibold"},t),e.createElement("div",{className:c},s||i.map(u=>e.createElement("label",{key:`item-${l}-${u[n]}`,htmlFor:`item-${l}-${u[n]}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer"},e.createElement("input",{id:`item-${l}-${u[n]}`,name:l,type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:u[n],onClick:g=>o(`attribute-${u.attribute_id}`,g.target.value,g.target.checked)}),u[m]))))},q=({priceOrder:t,setPriceOrder:s,minPrice:c,setFilter:i,filter:n,maxPrice:m,categories:o=[],tags:l=[],brands:u=[],sizes:g=[],colors:M=[],attribute_values:C,tag_id:F,selected_category:R})=>{x.useRef();const[w,$]=x.useState({}),j=a=>{$(r=>({...r,[a]:!r[a]}))},P=a=>{const r=structuredClone(n);r.minPrice=Number(a.target.value)||0,i(r)},L=a=>{const r=structuredClone(n);r.maxPrice=Number(a.target.value)||0,i(r)},f=(a,r,p)=>{let d=structuredClone(n);d[a]||(d[a]=[]),p?d[a].push(r):d[a]=d[a].filter(z=>z!=r),i(d)},[b,y]=x.useState(!1),h=x.useRef({}),_=x.useRef(null),B=()=>{y(!b)},N=a=>{y(!b);let r=a.target.id;h.current[r].querySelector("span").textContent,s(p=>a.target.value)},S=()=>{s(null)};let E="Ordenar por";return t=="price_high"?E="Precio más alto":t=="price_low"&&(E="Precio más bajo"),e.createElement(e.Fragment,null,e.createElement("button",{className:"w-full h-12 text-[17px] bg-[#006BF6] text-white text-center font-semibold rounded-full",type:"reset",onClick:S},"Limpiar filtros"),e.createElement("div",{className:"dropdown w-full",ref:_},e.createElement("div",{className:"input-box focus:outline-none font-bold text-text16 md:text-text20 mr-20 shadow-md px-4 py-6 bg-[#F5F5F5]",onClick:B},t==null?"Ordenar por":E),b&&e.createElement("div",{className:"list z-[100] animate-fade-down animate-duration-[2000ms]",style:{maxHeight:"150px",boxShadow:"rgba(0, 0, 0, 0.15) 0px 1px 2px 0px, rgba(0, 0, 0, 0.1) 0px 1px 3px 1px"}},e.createElement("div",{className:"w-full"},e.createElement("input",{type:"radio",name:"drop1",id:"id11",className:"radio",value:"price_high",onChange:N}),e.createElement("label",{ref:a=>h.current.id11=a,htmlFor:"id11",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar"},e.createElement("span",{className:"name inline-block w-full"},"Precio más alto"))),e.createElement("div",{className:"w-full"},e.createElement("input",{type:"radio",name:"drop1",id:"id12",className:"radio",value:"price_low",onChange:N}),e.createElement("label",{ref:a=>h.current.id12=a,htmlFor:"id12",className:"font-regularDisplay text-text20 hover:font-bold md:duration-100 hover:text-white ordenar"},e.createElement("span",{className:"name inline-block w-full"},"Precio más bajo"))))),e.createElement(k,{title:"Precio",className:"flex flex-row gap-4 w-full"},e.createElement("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Desde",min:c,max:m,step:.01,onChange:P}),e.createElement("input",{type:"number",className:"w-28 rounded-md border",placeholder:"Hasta",min:c,max:m,step:.01,onChange:L})),o.length>0&&e.createElement("div",{className:"w-full "},e.createElement("h2",{className:"font-semibold mb-4"},"Categorias"),o.map(a=>a.subcategories.length>0&&e.createElement("div",{key:a.id,className:"w-full"},e.createElement("div",{className:"border-b border-gray-200"},e.createElement("button",{type:"button",className:"w-full flex justify-between items-center py-2 px-4 text-left text-[#006BF6] bg-gray-100 hover:bg-gray-200 focus:outline-none",onClick:()=>j(a.id)},e.createElement("span",null,a.name),e.createElement("svg",{className:`w-5 h-5 transform transition-transform ${w[a.id]?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})))),w[a.id]&&e.createElement("div",{className:"p-4 border border-t-0 border-gray-200 space-y-4"},a.subcategories.map(r=>{const p=Array.isArray(n==null?void 0:n.subcategory_id)&&n.subcategory_id.includes(String(r.id));return e.createElement(e.Fragment,null,e.createElement("label",{key:r.id,htmlFor:`item-category-${r.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer"},e.createElement("input",{id:`item-category-${r.id}`,name:"category",type:"checkbox",className:"bg-blue-500 rounded-sm  border-none",value:r.id,onClick:d=>f("subcategory_id",d.target.value,d.target.checked),defaultChecked:p}),r.name))}))))),l.length>0&&e.createElement("div",{className:"flex flex-col gap-4 w-full"},e.createElement("h2",{className:"font-semibold"},"Etiquetas"),e.createElement("div",{className:"flex flex-row gap-4 w-full flex-wrap"},l.map(a=>{const r=a.id===Number(F);return e.createElement("label",{key:`item-tag-${a.id}`,htmlFor:`item-tag-${a.id}`,className:"text-custom-border flex flex-row gap-2  items-center cursor-pointer"},e.createElement("input",{id:`item-tag-${a.id}`,name:"tag",type:"checkbox",className:"bg-[#DEE2E6] rounded-sm  border-none",value:a.id,onClick:p=>f("txp.tag_id",p.target.value,p.target.checked),defaultChecked:r}),a.name)}))),C.map((a,r)=>e.createElement(k,{key:`attribute-${r}`,title:a[0].attribute.titulo,items:a,itemName:"valor",onClick:f})))},V=({current:t,setCurrent:s,pages:c})=>{const i=new Array(c||1);i.fill(null);const n=()=>{const o=t--;s(o<1?1:o)},m=()=>{const o=t--;s(o>c?c:o)};return e.createElement(e.Fragment,null,e.createElement("nav",{"aria-label":"Page navigation example w-full"},e.createElement("ul",{className:"flex flex-wrap items-center gap-1 -space-x-px text-base justify-center"},e.createElement("li",null,e.createElement("button",{className:"cursor-pointer flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 hover:bg-white rounded-full bg-gray-100 hover:text-gray-700",onClick:n,type:"button"},e.createElement("span",{className:"sr-only"},"Previous"),e.createElement("svg",{className:"w-3 h-3 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 1 1 5l4 4"})))),i.map((o,l)=>l+1==t-4||l+1==t+4?e.createElement("li",{key:`item-${l}`},e.createElement("button",{"aria-current":"page",className:"z-10 flex items-center justify-center px-4 h-10 w-10 leading-tight  hover:bg-white rounded-full bg-transparent text-gray-500 hover:text-gray-700",type:"button"},"···")):e.createElement("li",{key:`item-${l}`,className:l+1>t-4&&l+1<t+4?"block":"hidden"},e.createElement("button",{"aria-current":"page",className:`cursor-pointer z-10 flex items-center justify-center px-4 h-10 w-10 leading-tight  hover:bg-white rounded-full ${t==l+1?"bg-[#006BF6] text-white":"bg-gray-100 text-gray-500 hover:text-gray-700"}`,onClick:()=>s(l+1),type:"button"},l+1))),e.createElement("li",null,e.createElement("button",{className:"cursor-pointer flex items-center justify-center px-4 h-10 w-10 leading-tight text-gray-500 hover:bg-white rounded-full bg-gray-100 hover:text-gray-700",onClick:m,type:"button"},e.createElement("span",{className:"sr-only"},"Next"),e.createElement("svg",{className:"w-3 h-3 rtl:rotate-180","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10"},e.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})))))))},O=({item:t,width:s,bgcolor:c,is_reseller:i})=>{var o;const[n,m]=x.useState(!1);return t.category,e.createElement("div",{onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),className:`flex flex-col relative w-full md:${s} ${c}`,"data-aos":"zoom-in-left"},e.createElement("div",{className:`${c} product_container basis-4/5 flex flex-col justify-center relative border`},e.createElement("div",{className:"absolute top-2 left-2 w-max"},(o=t.tags)==null?void 0:o.map(l=>e.createElement("div",{className:"px-4 mb-1",key:l.id},e.createElement("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:l.color}},l.name))),t.descuento>0&&e.createElement("div",{className:"px-4 mb-1"},e.createElement("span",{className:"block font-semibold text-[8px] md:text-[12px] bg-black py-2 px-3 flex-initial w-full text-center text-white rounded-[5px] relative top-[18px] z-10",style:{backgroundColor:"#10c469"}},"-",Math.round(100-t.descuento*100/t.precio),"%"))),e.createElement("div",null,e.createElement("div",{className:"relative flex justify-center items-center h-max"},e.createElement("img",{style:{opacity:!t.imagen_ambiente||!n?"1":"0",scale:!t.imagen_ambiente||!n?"1.05":"1",backgroundColor:"#eeeeee"},src:t.imagen?`/${t.imagen}`:"/images/img/noimagen.jpg",alt:t.name,onError:l=>l.target.src="/images/img/noimagen.jpg",className:"transition ease-out duration-300 transform w-full aspect-square object-cover inset-0"}),t.imagen_ambiente&&e.createElement("img",{style:{opacity:n?"1":"0",scale:n?"1.05":"1"},src:`/${t.imagen_ambiente}`,alt:t.name,onError:l=>l.target.src="/images/img/noimagen.jpg",className:"transition ease-out duration-300 transform w-full aspect-square object-cover absolute inset-0"})),e.createElement("div",{className:"addProduct text-center flex justify-center h-0"},e.createElement("div",{className:"flex flex-row gap-2 items-center"},e.createElement("a",{href:`/producto/${t.id}`,className:"font-semibold text-[16px] bg-[#006BF6] py-2 px-4 text-center text-white rounded-3xl h-10"},"Ver producto"),e.createElement(v,{content:"Agregar al Carrito"},e.createElement("button",{href:`/producto/${t.id}`,type:"button",id:"btnAgregarCarrito","data-id":`${t.id}`,className:"flex items-center font-semibold text-[13px] bg-[#006BF6] hover:bg-blue-400 py-1 px-4 text-center text-white rounded-3xl h-10"},e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",width:"22",height:"22",fill:"#FFFFFF"},e.createElement("path",{d:"M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96zM252 160c0 11 9 20 20 20l44 0 0 44c0 11 9 20 20 20s20-9 20-20l0-44 44 0c11 0 20-9 20-20s-9-20-20-20l-44 0 0-44c0-11-9-20-20-20s-20 9-20 20l0 44-44 0c-11 0-20 9-20 20z"})))))))),e.createElement("a",{href:`/producto/${t.id}`,className:"p-2"},e.createElement(v,{content:t.producto},e.createElement("h2",{className:"block text-[17px] text-center overflow-hidden font-bold",style:{display:"-webkit-box",WebkitLineClamp:2,textOverflow:"ellipsis",WebkitBoxOrient:"vertical",height:"51px"}},t.producto)),i?e.createElement(e.Fragment,null,e.createElement("div",{className:"flex content-between flex-row gap-4 items-center justify-center"},e.createElement("span",{className:"text-[#15294C] opacity-60 text-[16.45px]  line-through"},"S/. ",t.descuento>0?t.descuento:t.precio),t.descuento>0&&e.createElement("span",{className:"text-sm text-[#15294C] opacity-60 line-through"},"S/. ",t.precio)),e.createElement("div",{className:"flex content-between flex-row gap-4 items-center justify-center"},"Reseller ",e.createElement("span",{className:"text-[#006BF6] text-[16.45px] font-bold"},"S/. ",t.precio_reseller))):e.createElement("div",{className:"w-full flex content-between flex-row gap-4 items-center justify-center text-center"},e.createElement("span",{className:"text-[#006BF6] text-[16.45px] font-bold"},t.descuento>0?e.createElement("div",{className:"flex flex-col justify-center items-center"},e.createElement("span",{className:"text-sm font-light"},"Precio Promo"),e.createElement("span",{className:""},"S/. ",t.descuento)):e.createElement("div",{className:"flex flex-col justify-center items-center"},e.createElement("span",{className:"text-sm font-light"},"Precio Regular"),e.createElement("span",{className:"font-bold"},"S/. ",t.precio))),t.descuento>0&&e.createElement(e.Fragment,null,e.createElement("div",{className:"flex flex-col items-center"},e.createElement("span",{className:"text-sm text-[#15294C] font-light"},"Precio Regular"),e.createElement("span",{className:" text-[#15294C] opacity-80 line-through font-bold"}," S/. ",t.precio))))))};export{q as F,O as P,V as a};
